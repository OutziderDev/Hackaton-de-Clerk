---
import Layout from "../../layouts/Layout.astro";
import LayoutGrid from "../../layouts/LayoutGrid.astro";
import JsIcon from '../../assets/icons/lenguajes/javascript.svg'
const user = await Astro.locals.currentUser()
const dateCreateAt = user?.createdAt
  ? new Date(user.createdAt).toLocaleDateString('es-ES')
  : "";
 
---
<Layout>
  <LayoutGrid>
    <section class="w-full h-[50%] mt-5 overflow-hidden border  border-light-terciario dark:border-dark-terciario rounded-md relative">
      <div class="w-full h-[35%] ">
        <img src={user?.imageUrl} class="w-full h-full select-none object-cover object-center blur-2xl" alt="filtro para imagenes">
      </div>
      <img src={user?.imageUrl} class="absolute border border-black left-1/2 -translate-x-1/2 top-[35%] -translate-y-1/2 size-36 object-cover transition-all rounded-full" alt="">
      
      <div class="w-full h-full dark:bg-blue-700/5 pt-20">
        <h2 class="text-2xl font-bold text-center text-pretty ">{user?.fullName}</h2>
        <span class="block opacity-70 text-xl text-center">@{user?.username}</span>
        <!-- <div class="flex items-center opacity-50">
          <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-calendar-week"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M7 14h.013" /><path d="M10.01 14h.005" /><path d="M13.01 14h.005" /><path d="M16.015 14h.005" /><path d="M13.015 17h.005" /><path d="M7.01 17h.005" /><path d="M10.01 17h.005" />
          </svg>Unido el: {dateCreateAt}
        </div> -->
        <div class="flex items-center justify-center  mt-3 gap-8">
          <div class=" flex items-center justify-center flex-col">
            <span class="font-bold font-mono text-xl">1550</span>
            <p class="opacity-60 font-bold">Seguidores</p>
          </div>
          <div class=" flex items-center justify-center flex-col">
            <span class="font-bold font-mono text-xl">1550</span>
            <p class="opacity-60 font-bold">Seguidos</p>
          </div>
          <div class=" flex items-center justify-center flex-col">
            <span class="font-bold font-mono text-xl">1550</span>
            <p class="opacity-60 font-bold">Publicacion</p>
          </div>
        </div>

        <div class="flex flex-col md:flex-row items-center justify-center gap-4  mt-5">
           
          <fieldset  class="p-2 border border-light-terciario dark:border-dark-terciario bg-light-primario dark:bg-dark-secundario rounded-lg">
            <legend class=" dark:text-sky-300">Herramientas</legend>
            <ul class="flex flex-row items-center">
              <div class=" ">
                <JsIcon class="size-10" />
                 
              </div>
              <li>Node</li>
              <li>Css</li>
            </ul>
          </fieldset>

          <fieldset  class="p-2 border border-light-terciario dark:border-dark-terciario bg-light-primario dark:bg-dark-secundario rounded-lg">
            <legend class="">Redes Sociales</legend>
            <ul class="flex flex-row items-center justify-center gap-3">

              <a href="#" target="_blank" rel="noopener noreferrer">
                <svg class="size-8 stroke-sky-500" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" /><path d="M3.6 9h16.8" /><path d="M3.6 15h16.8" /><path d="M11.5 3a17 17 0 0 0 0 18" /><path d="M12.5 3a17 17 0 0 1 0 18" /></svg>
              </a>

              <a href="#" target="_blank" rel="noopener noreferrer" class="bg-white rounded-sm">
                <svg class="size-8 " xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" viewBox="0 0 256 256"><path d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453" fill="#0A66C2"/></svg>
              </a>
              
              <a href="#" target="_blank" rel="noopener noreferrer">
                <svg class="size-8" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg">
                 <path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z" transform="scale(64)" fill="#ffff"/>
                </svg>

              </a>
            </ul>
          </fieldset>
        </div>

      </div>
     <!--  <div class="">
        <h2 class="text-2xl font-bold text-center text-pretty mt-5">{user?.fullName}</h2>
        <span class="opacity-70 text-xl">@{user?.username}</span>
        <div class="flex items-center opacity-50">
          <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-calendar-week"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M7 14h.013" /><path d="M10.01 14h.005" /><path d="M13.01 14h.005" /><path d="M16.015 14h.005" /><path d="M13.015 17h.005" /><path d="M7.01 17h.005" /><path d="M10.01 17h.005" />
          </svg>Unido el: {dateCreateAt}
        </div>
        <div class="flex gap-4 items-center justify-center mt-3">
          <div class=" flex flex-col items-center bg-light-primario rounded-md overflow-hidden shadow dark:shadow-none">
            <p class="bg-sky-600  text-white  text-lg px-2 py-1">Seguidores</p>
            <p class="font-bold text-lg p-1 dark:text-black">0</p>
          </div>
          <div class=" flex flex-col items-center bg-light-primario rounded-md overflow-hidden shadow dark:shadow-none">
            <p class="bg-sky-600 text-white  text-lg px-2 py-1">Seguidos</p>
            <p class="font-bold text-lg p-1 dark:text-black">0</p>
          </div>
        </div>
      </div>
      <img src={user?.imageUrl} class=" size-42 md:size-48 object-cover transition-all rounded-md" alt=""> -->
    </section>
    <!-- Tabs para Posts -->
    <section class="mt-5 w-full">
      <div class="flex justify-between items-center w-full border-b mb-4">
        <button id="tab1" class="px-4 py-2 w-full focus:outline-none dark:text-white rounded-t-sm  border-b-2 border-transparent hover:border-dark-secundario" aria-selected="true">Posts</button>
        <button id="tab2" class="px-4 py-2 w-full focus:outline-none dark:text-white rounded-t-sm  border-b-2 border-transparent hover:border-dark-secundario">Favoritos</button>
      </div>
      <div id="tab-content1" class="block">
        <p>Aquí van los posts del usuario.</p>
      </div>
      <div id="tab-content2" class="hidden">
        <p>Aquí van los favoritos del usuario.</p>
      </div>
        
    </section>
  </LayoutGrid>
</Layout>

<script type="module">
  const tabs = [
    { btn: document.getElementById('tab1'), content: document.getElementById('tab-content1') },
    { btn: document.getElementById('tab2'), content: document.getElementById('tab-content2') },
  ];
  tabs.forEach((tab, idx) => {
    tab.btn.addEventListener('click', () => {
      tabs.forEach((t, i) => {
        t.content.classList.toggle('hidden', i !== idx);
        t.content.classList.toggle('block', i === idx);
        t.btn.setAttribute('aria-selected', i === idx);
        t.btn.classList.toggle('bg-black', i === idx);
        t.btn.classList.toggle('text-white', i === idx);
        t.btn.classList.toggle('dark:bg-white/20', i === idx); 
        t.btn.classList.toggle('border-dark-secundario', i === idx);
      });
    });
  });
</script>